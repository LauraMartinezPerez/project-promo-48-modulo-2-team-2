document.querySelector(".js-design-title");const u=document.querySelector(".js-design-form");document.querySelector(".js-fill-title");const m=document.querySelector(".js-fill-form");document.querySelector(".js-share-title");const f=document.querySelector(".js-share-form");function j(){p(),L(),u.classList.toggle("collapsed")}function g(){u.classList.add("collapsed")}function q(){g(),L(),m.classList.toggle("collapsed")}function p(){m.classList.add("collapsed")}function T(){g(),p(),f.classList.toggle("collapsed")}function L(){f.classList.add("collapsed")}const M=document.querySelectorAll(".js-design-header"),b=e=>{e.currentTarget.classList.contains("js-design-title")?j():e.currentTarget.classList.contains("js-fill-title")?q():T()};for(const e of M)e.addEventListener("click",b);const H=document.querySelector(".js-reset-btn");document.querySelector(".js-name-forms");document.querySelector(".js-list-name");const v=document.querySelector(".js-list-movies-title"),w=document.querySelector(".js__profile-image"),F=document.querySelector(".js-first-movie"),C=document.querySelector(".js-second-movie"),k=document.querySelector(".js-third-movie"),h=document.querySelector(".js-name-preview");document.querySelector(".js-card-list-title");const c=document.querySelector(".js-peli1"),l=document.querySelector(".js-peli2"),a=document.querySelector(".js-peli3"),P=document.querySelector(".js-user-photo"),o={field1:"",field2:"",field3:"",field4:"",field5:"",field6:"",photo:""},D=document.querySelector(".js-forms-design"),E=e=>{e.target.id==="name"?(h.innerHTML=e.target.value,o.field2=e.target.value):e.target.id==="list"&&(v.innerHTML=e.target.value,o.field3=e.target.value)};D.addEventListener("input",E);F.addEventListener("input",e=>{e.preventDefault(),e.target.value===""?c.innerHTML="1: peli 1":(c.innerHTML=e.target.value,o.field4=e.target.value)});C.addEventListener("input",e=>{e.preventDefault(),e.target.value===""?l.innerHTML="2: peli 2":(l.innerHTML=e.target.value,o.field5=e.target.value)});k.addEventListener("input",e=>{e.target.value===""?a.innerHTML="3: peli 3":(a.innerHTML=e.target.value,o.field6=e.target.value)});document.querySelector(".js-terror-movie");document.querySelector(".js-romantic-movie");document.querySelector("js-fiction-movie");const s=document.querySelector(".js-movie-category"),_=document.querySelector(".js-genre"),r=document.querySelector(".js-movie-background"),I=e=>{const t=parseInt(e.target.value);o.field1=e.target.value,t===1?(s.innerHTML="Terror",r.classList.add("terrorbg"),r.classList.remove("fictionbg"),r.classList.remove("romancebg")):t===2?(s.innerHTML="Ficción",r.classList.add("fictionbg"),r.classList.remove("romancebg"),r.classList.remove("terrorbg")):t===3?(s.innerHTML="Romántica",r.classList.add("romancebg"),r.classList.remove("fictionbg"),r.classList.remove("terrorbg")):s.innerHTML=""};_.addEventListener("input",I);const R=document.querySelector(".js-btn-create"),y=document.querySelector(".js-social-media"),B=e=>{e.preventDefault(),y.classList.remove("collapsed")};R.addEventListener("click",B);const d="/images/user.png";H.addEventListener("click",()=>{h.innerHTML="Tu nombre",s.innerHTML="",r.classList.remove("romancebg"),r.classList.remove("fictionbg"),r.classList.remove("terrorbg"),c.innerHTML="1: peli 1",l.innerHTML="2: peli 2",a.innerHTML="3: peli 3",v.innerHTML="Mis pelis chulas",P.src=d,w.src=d,y.classList.add("collapsed")});const n=new FileReader,O=document.querySelector(".js__profile-upload-btn"),G=document.querySelector(".js__profile-image"),U=document.querySelector(".js__profile-preview");function A(e){const t=e.currentTarget.files[0];n.addEventListener("load",J),n.readAsDataURL(t)}function J(){o.photo=n.result,G.src=n.result,U.src=n.result}O.addEventListener("change",A);const N=document.querySelector(".js-btn-create"),i=document.querySelector(".js-link-created"),$=document.querySelector(".js-link-whatsapp");function V(e){e.preventDefault(),fetch("https://dev.adalab.es/api/info/data",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{const S=t.infoID;i.classList.remove("hidden"),i.href=`./card.html?id=${S}`,$.href+=encodeURI(i.href)})}N.addEventListener("click",V);const W=document.querySelector(".js-list-movies-title"),x=document.querySelector(".js-movie-background"),z=document.querySelector(".js-name-preview"),K=document.querySelector(".js-movie-category"),Q=document.querySelector(".js-peli1"),X=document.querySelector(".js-peli2"),Y=document.querySelector(".js-peli3"),Z=document.querySelector(".js-user-photo"),ee=new URLSearchParams(window.location.search),te=ee.get("id"),re=e=>{switch(e){case 1:return"Terror";case 2:return"Ficción";case 3:return"Romance"}},oe=e=>{switch(e){case 1:return"terrorbg";case 2:return"fictionbg";case 3:return"romancebg"}};fetch(`https://dev.adalab.es/api/info/${te}`).then(e=>e.json()).then(e=>{console.log(e);const t=e.data;W.innerHTML=t.field3,z.innerHTML=t.field2,K.innerHTML=re(t.field1),x.classList.add(oe(t.field1)),Q.innerHTML=t.field4,X.innerHTML=t.field5,Y.innerHTML=t.field6,Z.src=t.photo,localStorage.setItem("targetData",JSON.stringify(t))});
//# sourceMappingURL=main.js.map
