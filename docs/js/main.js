document.querySelector(".js-design-title");const u=document.querySelector(".js-design-form");document.querySelector(".js-fill-title");const m=document.querySelector(".js-fill-form");document.querySelector(".js-share-title");const f=document.querySelector(".js-share-form");function q(){p(),L(),u.classList.toggle("collapsed")}function g(){u.classList.add("collapsed")}function T(){g(),L(),m.classList.toggle("collapsed")}function p(){m.classList.add("collapsed")}function M(){g(),p(),f.classList.toggle("collapsed")}function L(){f.classList.add("collapsed")}const b=document.querySelectorAll(".js-design-header"),H=e=>{e.currentTarget.classList.contains("js-design-title")?q():e.currentTarget.classList.contains("js-fill-title")?T():M()};for(const e of b)e.addEventListener("click",H);const w=document.querySelector(".js-reset-btn");document.querySelector(".js-name-forms");document.querySelector(".js-list-name");const v=document.querySelector(".js-list-movies-title"),F=document.querySelector(".js__profile-image"),C=document.querySelector(".js-first-movie"),k=document.querySelector(".js-second-movie"),D=document.querySelector(".js-third-movie"),h=document.querySelector(".js-name-preview");document.querySelector(".js-card-list-title");const c=document.querySelector(".js-peli1"),l=document.querySelector(".js-peli2"),a=document.querySelector(".js-peli3"),P=document.querySelector(".js-user-photo"),o={field1:"",field2:"",field3:"",field4:"",field5:"",field6:"",photo:""},E=document.querySelector(".js-forms-design"),I=e=>{e.target.id==="name"?(h.innerHTML=e.target.value,o.field2=e.target.value):e.target.id==="list"&&(v.innerHTML=e.target.value,o.field3=e.target.value)};E.addEventListener("input",I);C.addEventListener("input",e=>{e.preventDefault(),e.target.value===""?c.innerHTML="1: peli 1":(c.innerHTML=e.target.value,o.field4=e.target.value)});k.addEventListener("input",e=>{e.preventDefault(),e.target.value===""?l.innerHTML="2: peli 2":(l.innerHTML=e.target.value,o.field5=e.target.value)});D.addEventListener("input",e=>{e.target.value===""?a.innerHTML="3: peli 3":(a.innerHTML=e.target.value,o.field6=e.target.value)});document.querySelector(".js-terror-movie");document.querySelector(".js-romantic-movie");document.querySelector("js-fiction-movie");const s=document.querySelector(".js-movie-category"),_=document.querySelector(".js-genre"),r=document.querySelector(".js-movie-background"),R=e=>{const t=parseInt(e.target.value);o.field1=e.target.value,t===1?(s.innerHTML="Terror",r.classList.add("terrorbg"),r.classList.remove("fictionbg"),r.classList.remove("romancebg")):t===2?(s.innerHTML="Ficción",r.classList.add("fictionbg"),r.classList.remove("romancebg"),r.classList.remove("terrorbg")):t===3?(s.innerHTML="Romántica",r.classList.add("romancebg"),r.classList.remove("fictionbg"),r.classList.remove("terrorbg")):s.innerHTML=""};_.addEventListener("input",R);const B=document.querySelector(".js-btn-create"),y=document.querySelector(".js-social-media"),G=e=>{e.preventDefault(),y.classList.remove("collapsed")};B.addEventListener("click",G);const d="/images/user.png";w.addEventListener("click",()=>{h.innerHTML="Tu nombre",s.innerHTML="",r.classList.remove("romancebg"),r.classList.remove("fictionbg"),r.classList.remove("terrorbg"),c.innerHTML="1: peli 1",l.innerHTML="2: peli 2",a.innerHTML="3: peli 3",v.innerHTML="Mis pelis chulas",P.src=d,F.src=d,y.classList.add("collapsed")});const n=new FileReader,O=document.querySelector(".js__profile-upload-btn"),U=document.querySelector(".js__profile-image"),A=document.querySelector(".js__profile-preview");function $(e){const t=e.currentTarget.files[0];n.addEventListener("load",J),n.readAsDataURL(t)}function J(){o.photo=n.result,U.src=n.result,A.src=n.result}O.addEventListener("change",$);const N=document.querySelector(".js-btn-create"),i=document.querySelector(".js-link-created"),V=document.querySelector(".js-link-whatsapp");function W(e){e.preventDefault(),fetch("https://dev.adalab.es/api/info/",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{const j=t.infoID;i.classList.remove("hidden"),i.href=`./card.html?id=${j}`,V.href+=encodeURI(i.href)})}N.addEventListener("click",W);const x=document.querySelector(".js-list-movies-title"),z=document.querySelector(".js-movie-background"),K=document.querySelector(".js-name-preview"),Q=document.querySelector(".js-movie-category"),X=document.querySelector(".js-peli1"),Y=document.querySelector(".js-peli2"),Z=document.querySelector(".js-peli3"),ee=document.querySelector(".js-user-photo"),te=new URLSearchParams(window.location.search),S=te.get("id");console.log("ID obtenido:",S);const re=e=>{switch(e){case 1:return"Terror";case 2:return"Ficción";case 3:return"Romance"}},oe=e=>{switch(e){case 1:return"terrorbg";case 2:return"fictionbg";case 3:return"romancebg"}};fetch(`https://dev.adalab.es/api/info/${S}`).then(e=>e.json()).then(e=>{console.log(e);const t=e.data;x.innerHTML=t.field3,K.innerHTML=t.field2,Q.innerHTML=re(t.field1),z.classList.add(oe(t.field1)),X.innerHTML=t.field4,Y.innerHTML=t.field5,Z.innerHTML=t.field6,ee.src=t.photo});localStorage.setItem(targetData,"targetData");
//# sourceMappingURL=main.js.map
